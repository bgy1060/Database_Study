## 1. SQL 조회

#### 1). 데이터베이스 생성

```sql
CREATE DATABASE <데이터베이스 이름>
```



#### 2). Primary Key (기본키)

- 테이블에서 하나의 row를 고유하게 식별할 수 있도록 해주는 column



#### 3). SELECT

-  테이블의 데이터를 **조회**할 때 사용하는 구문
- **WHERE**을 사용하여 특정 조건에 해당하는 row만 가져올 수 있음
- ex) WHERE age BETWEEN 30 AND 39 조건을 이용하여 30대인 회원만 조회 가능
- WHERE age NOT BETWEEN 30 AND 39 조건을 이용하여 30대가 아닌 회원만 조회 하는 것도 가능 
- **DATE 타입**에도 부등호를 사용할 수 있음 ex)  WHERE sign_up_day > '2019-01-01'
- 문자열 패턴을 보고 조회도 가능 WHERE address **LIKE** '서울%'
- 남성이 아닌 회원만 조회 WHERE gender !='m' & WHERE gender <>'m'
- 20살, 30살인 회원만 조회 WHERE age **IN** (20,30)



#### 4). SQL 제공 함수

-  DATE 타입의 값에서 연도, 혹은 월, 일만 추출 가능
  - WHERE YEAR(birthday)='1992'
  -  WHERE MONTH(sign_up_day) IN (6,7,8)
  - WHERE DAYOFMONTH(sign_up_day) BETWEEN 15 AND 31
- 날짜 간의 차이도 구할 수 있음
  -  DATEDIFF('2018-01-05','2018-01-03')



#### 5). 정렬

- row들을 특정 컬럼을 기준으로 순서대로 출력
- **ORDER BY** height (키 순으로 정렬)
- ORDER BY height ASC (오름차순으로 키 정렬 - ASC 옵션을 안주면 자동으로 오름차순으로)
- 내림차순으로 정렬하기 위해서는 DESC 사용
- ORDER BY 뒤에 정렬 기준을 여러개 둘 수도 있다. 이때는 이름을 먼저 쓴 컬럼을 우선으로 해서 정렬이 차례대로 수행된다
- 정렬 이후 상위 몇 개만 보고 싶을 때는 **LIMIT**를 사용
- ORDER BY sign_up_day DESC LIMIT 10 = 가입일을 기준으로 내림차순 정렬 후 상위 10개 출력
- LIMIT 8,2 = 8번째 로우부터 시작해서 2개의 로우만 출력
- 로우는 0번부터 시작



#### 6). 데이터의 특성 구하기

- **COUNT**<컬럼 이름>으로 특정 컬럼의 row 수를 구할 수 있음 
- COUNT 함수는 **NULL은 제외**하고 count함
- CONNT(*)을 사용하면 전체 row 수를 알 수 있음
- 컬럼 중 가장 큰 값을 알고 싶으면 **MAX( )** 함수 사용. 가장 작은 값은 **MIN( )** 함수 사용
- 평균값을 구하기 위해서는 **AVG( )** 함수 사용. 이때 null 값을 제외하고 평균이 구해짐
- **SUM( )** : 합계, **STD( )** : 표준편차, **ABS( )** : 절대값, **SQRT( )** : 제곱근, **CEIL( )** : 올림, **FLOOR( )** : 내림, **ROUND( )** : 반올림



#### 7). NULL 다루기

- 해당 컬럼에 NULL 값이 있는지 없는지 알고싶으면 **IS NULL**을 사용. 
  - WHERE address IS NULL : null값이 있는 address 컬럼 조회
- NULL 값이 없는 컬럼을 조회하기 위해서는 **IS NOT NULL** 사용
- **COALESCE(height,'###')** : height 값이 null이 아니면 height 값을 가져오고 null이면 ###으로 변경



#### 8). 컬럼 alias

- **AS** 를 사용하여 컬럼 이름을 다르게 사용할 수 있음 
  - height AS '키' -**** height 컬럼을 '키'로 사용하겠다 
- CONCAT(height, 'cm', ',' , weight, 'kg') AS '키와 몸무게' , weight / ((height/100) * (height/100)) as BMI
- **CONCAT** 함수를 사용하면 여러 컬럼의 값을 하나의 컬럼으로 나타내는 것이 가능하다
- 조건 **CASE 문**을 이용하여 조건에 따라 컬럼의 값을 변경하는 것이 가능하다. 
  - CASE WHEN weight IS NULL OR height is NULL THEN '비만 여부 알 수 없음' ELSE '저체중' END



#### 9). 문자열 관련 함수

- **DISTINCT( )** 함수를 쓰면 그 컬럼의 고유값만 볼 수 있음
- DISTINCT(SUBSTRING(address,1,2)) : address 값에서 가장 첫번째 문자부터 2개의 문자를 추출하라
- **LENGTH( )** : 문자열의 길이 구하기, **UPPER( )** : 문자열을 모두 대문자로 변경, **LOWER( )** : 문자열을 모두 소문자로 변경
- LPAD (age,10,'0') : age 컬럼의 값을 왼쪽에 문자 0을 붙여 총 10자리로 만들기
- RPAD (age,10,'!') : age 컬럼의 값을 오른쪽에 문자 !를 붙여 총 10자리로 만들기
- **LTRIM** : 왼쪽 공백 삭제, **RTRIM** : 오른쪽 공백 삭제, **TRIM** : 왼쪽, 오른쪽 양쪽 다 공백 삭제

